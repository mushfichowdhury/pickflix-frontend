{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/mushfichowdhury/Flatiron/code/Projects/Mod4-PickFlix/pickflix-frontend/src/App.js\";\nimport './App.css';\nimport React, { Component } from 'react';\nimport NavBar from './NavBar';\nimport PickPage from './Pick Page/PickPage';\nimport Welcome from './Welcome Page/Welcome';\nimport Profile from './Profile Page/Profile';\nimport { Route, Redirect, Switch, withRouter } from 'react-router-dom';\nimport LogIn from './Welcome Page/LogIn';\nimport Signup from './Welcome Page/Signup';\nimport axios from \"axios\";\nimport ls from \"local-storage\";\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      currentUser: \"\",\n      allUsers: [],\n      isLoggedIn: false\n    };\n\n    this.componentDidMount = () => {\n      this.setState({\n        currentUser: ls.get(\"currentUser\") || \"\"\n      });\n      fetch(\"http://localhost:3000/users\").then(resp => resp.json()).then(users => {\n        this.setState({\n          allUsers: users\n        });\n      });\n    };\n\n    this.signupSubmitHandler = newUser => {\n      console.log(\"new user in app.js\", newUser);\n      fetch(\"http://localhost:3000/users\", {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\",\n          \"accept\": \"application/json\"\n        },\n        body: JSON.stringify(newUser)\n      }).then(r => r.json()).then(user => {\n        this.setState({\n          currentUser: user\n        });\n        ls.set(\"currentUser\", user);\n      });\n    };\n\n    this.loginSubmitHandler = userInfo => {\n      let foundUser = this.state.allUsers.find(user => userInfo.username === user.username);\n\n      if (foundUser) {\n        console.log(\"found\");\n        this.setState({\n          currentUser: foundUser,\n          isLoggedIn: true\n        });\n        ls.set(\"currentUser\", foundUser);\n        this.props.history.push(\"/pickpage\");\n      }\n    };\n\n    this.logoutHandler = () => {\n      this.setState({\n        currentUser: {}\n      });\n      ls.remove(\"currentUser\");\n    };\n  }\n\n  render() {\n    console.log(\"Logged in as:\", ls.get(\"currentUser\"));\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: ls.get(\"currentUser\") === null ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"root\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/pickpage\",\n            render: props => /*#__PURE__*/_jsxDEV(PickPage, { ...props,\n              currentUser: ls.get(\"currentUser\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/welcome\",\n            component: Welcome\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/profile\",\n            render: props => /*#__PURE__*/_jsxDEV(Profile, { ...props,\n              currentUser: ls.get(\"currentUser\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/login\",\n            render: (routerProps, props) => {\n              return /*#__PURE__*/_jsxDEV(LogIn, { ...props,\n                submitHandler: this.loginSubmitHandler,\n                routerProps: routerProps\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 21\n              }, this);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/signup\",\n            render: props => /*#__PURE__*/_jsxDEV(Signup, { ...props,\n              submitHandler: this.signupSubmitHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"root\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(NavBar, {\n            logoutHandler: this.logOutHandler,\n            currentUser: ls.get(\"currentUser\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/pickpage\",\n            render: props => /*#__PURE__*/_jsxDEV(PickPage, { ...props,\n              currentUser: ls.get(\"currentUser\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/welcome\",\n            component: Welcome\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/profile\",\n            render: props => /*#__PURE__*/_jsxDEV(Profile, { ...props,\n              currentUser: ls.get(\"currentUser\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/login\",\n            render: (routerProps, props) => {\n              return /*#__PURE__*/_jsxDEV(LogIn, { ...props,\n                submitHandler: this.loginSubmitHandler,\n                routerProps: routerProps\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 21\n              }, this);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/signup\",\n            render: props => /*#__PURE__*/_jsxDEV(Signup, { ...props,\n              submitHandler: this.signupSubmitHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nexport default _c = withRouter(App);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/mushfichowdhury/Flatiron/code/Projects/Mod4-PickFlix/pickflix-frontend/src/App.js"],"names":["React","Component","NavBar","PickPage","Welcome","Profile","Route","Redirect","Switch","withRouter","LogIn","Signup","axios","ls","App","state","currentUser","allUsers","isLoggedIn","componentDidMount","setState","get","fetch","then","resp","json","users","signupSubmitHandler","newUser","console","log","method","headers","body","JSON","stringify","r","user","set","loginSubmitHandler","userInfo","foundUser","find","username","props","history","push","logoutHandler","remove","render","routerProps","logOutHandler"],"mappings":"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","sourcesContent":["import './App.css';\nimport React, { Component } from 'react';\nimport NavBar from './NavBar'\nimport PickPage from './Pick Page/PickPage';\nimport Welcome from './Welcome Page/Welcome';\nimport Profile from './Profile Page/Profile';\nimport {Route, Redirect, Switch, withRouter} from 'react-router-dom'\nimport LogIn from './Welcome Page/LogIn';\nimport Signup from './Welcome Page/Signup';\nimport axios from \"axios\";\nimport ls from \"local-storage\"\n\n\nclass App extends React.Component {\n  state = {\n    currentUser: \"\",\n    allUsers: [],\n    isLoggedIn: false\n  }\n\n  componentDidMount = () => {\n    this.setState({ currentUser: ls.get(\"currentUser\") || \"\" })\n    fetch(\"http://localhost:3000/users\")\n      .then(resp => resp.json())\n      .then(users => {\n        this.setState({ allUsers: users })\n      })\n  \n  }\n  \n  signupSubmitHandler = (newUser) => {\n    console.log(\"new user in app.js\", newUser)\n    fetch(\"http://localhost:3000/users\", {\n      method: \"POST\",\n      headers: {\n        \"content-type\": \"application/json\",\n        \"accept\": \"application/json\"\n      },\n      body: JSON.stringify(newUser)\n    })\n      .then(r => r.json())\n      .then(user => {\n        this.setState({ currentUser: user,})\n        ls.set(\"currentUser\", user)\n      })\n  }\n\n  loginSubmitHandler = (userInfo) => {\n    let foundUser = this.state.allUsers.find(user => userInfo.username === user.username)\n    if (foundUser) {\n      console.log(\"found\")\n      this.setState({ currentUser: foundUser, isLoggedIn: true })\n      ls.set(\"currentUser\", foundUser)\n      this.props.history.push(\"/pickpage\")\n    }\n }\n\n logoutHandler = () => {\n   this.setState({currentUser: {}})\n   ls.remove(\"currentUser\")\n }\n\n  render() {\n    console.log(\"Logged in as:\", ls.get(\"currentUser\"))\n    return (\n      \n      <> \n        {ls.get(\"currentUser\") === null ? \n          <div className=\"root\" >\n            <div >\n              <Route\n                path=\"/pickpage\"\n                render={(props) => (\n                  <PickPage {...props} currentUser={ls.get(\"currentUser\")} />\n                )}\n              />\n              <Route path=\"/welcome\" component={Welcome} />\n              <Route path=\"/profile\"\n                render={(props) => (\n                  <Profile {...props} currentUser={ls.get(\"currentUser\")} />\n                )} />\n              <Route path=\"/login\"\n                render={(routerProps, props) => {\n                  return (\n                    <LogIn {...props}\n                      submitHandler={this.loginSubmitHandler}\n                      routerProps={routerProps} />\n                  )\n                }\n\n                }\n              />\n              <Route\n                path=\"/signup\"\n                render={(props) => (\n                  <Signup {...props} submitHandler={this.signupSubmitHandler} />\n                )}\n              />\n            </div>\n          </div>\n\n        :\n        <div className=\"root\" >\n            <div >\n              <NavBar\n                logoutHandler={this.logOutHandler}\n                currentUser={ls.get(\"currentUser\")}\n              />\n              <Route\n                path=\"/pickpage\"\n                render={(props) => (\n                  <PickPage {...props} currentUser={ls.get(\"currentUser\")} />\n                )}\n              />\n              <Route path=\"/welcome\" component={Welcome} />\n              <Route path=\"/profile\"\n                render={(props) => (\n                  <Profile {...props} currentUser={ls.get(\"currentUser\")} />\n                )} />\n              <Route path=\"/login\"\n                render={(routerProps, props) => {\n                  return (\n                    <LogIn {...props}\n                      submitHandler={this.loginSubmitHandler}\n                      routerProps={routerProps} />\n                  )\n                }\n\n                }\n              />\n              <Route\n                path=\"/signup\"\n                render={(props) => (\n                  <Signup {...props} submitHandler={this.signupSubmitHandler} />\n                )}\n              />\n            </div>\n          </div>\n    }\n      </>     \n      \n    );\n    }\n  }\n\nexport default withRouter(App)\n"]},"metadata":{},"sourceType":"module"}