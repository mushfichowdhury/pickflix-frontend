{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/mushfichowdhury/Flatiron/code/Projects/Mod4-PickFlix/pickflix-frontend/src/App.js\";\nimport './App.css';\nimport React from 'react';\nimport NavBar from './NavBar';\nimport PickPage from './Pick Page/PickPage';\nimport Welcome from './Welcome Page/Welcome';\nimport Profile from './Profile Page/Profile';\nimport { Route, Redirect, Switch, withRouter } from 'react-router-dom';\nimport LogIn from './Welcome Page/LogIn';\nimport Signup from './Welcome Page/Signup';\nimport ls from \"local-storage\"; // THIS IS OUR PRE-PRESENTATION VERSION. I <3 U\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      currentUser: \"\",\n      allUsers: [],\n      isLoggedIn: false\n    };\n\n    this.componentDidMount = () => {\n      this.setState({\n        currentUser: ls.get(\"currentUser\") || \"\"\n      });\n      fetch(\"https://pick-flix.herokuapp.com/users\").then(resp => resp.json()).then(users => {\n        this.setState({\n          allUsers: users\n        });\n      });\n      this.props.history.push(\"/welcome\");\n    };\n\n    this.signupSubmitHandler = newUser => {\n      console.log(\"new user in app.js\", newUser);\n      fetch(\"https://pick-flix.herokuapp.com/users\", {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\",\n          \"accept\": \"application/json\"\n        },\n        body: JSON.stringify(newUser)\n      }).then(r => r.json()).then(user => {\n        this.setState({\n          currentUser: user\n        });\n        ls.set(\"currentUser\", user);\n      });\n    };\n\n    this.loginSubmitHandler = userInfo => {\n      let foundUser = this.state.allUsers.find(user => userInfo.username === user.username);\n      console.log(this.state.allUsers);\n\n      if (foundUser) {\n        console.log(\"found\");\n        this.setState({\n          currentUser: foundUser,\n          isLoggedIn: true\n        });\n        ls.set(\"currentUser\", foundUser);\n        this.props.history.push(\"/pickpage\");\n      }\n    };\n\n    this.logoutHandler = () => {\n      this.setState({\n        currentUser: {}\n      });\n      ls.remove(\"currentUser\");\n    };\n  }\n\n  render() {\n    console.log(\"Logged in as:\", ls.get(\"currentUser\"));\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: ls.get(\"currentUser\") === null ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"root\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/pickpage\",\n            render: props => /*#__PURE__*/_jsxDEV(PickPage, { ...props,\n              currentUser: ls.get(\"currentUser\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/welcome\",\n            component: Welcome\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/profile\",\n            render: props => /*#__PURE__*/_jsxDEV(Profile, { ...props,\n              currentUser: ls.get(\"currentUser\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/login\",\n            render: (routerProps, props) => {\n              return /*#__PURE__*/_jsxDEV(LogIn, { ...props,\n                submitHandler: this.loginSubmitHandler,\n                routerProps: routerProps\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 21\n              }, this);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/signup\",\n            render: props => /*#__PURE__*/_jsxDEV(Signup, { ...props,\n              submitHandler: this.signupSubmitHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"root\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(NavBar, {\n            logoutHandler: this.logOutHandler,\n            currentUser: ls.get(\"currentUser\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/pickpage\",\n            render: props => /*#__PURE__*/_jsxDEV(PickPage, { ...props,\n              currentUser: ls.get(\"currentUser\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/welcome\",\n            component: Welcome\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/profile\",\n            render: props => /*#__PURE__*/_jsxDEV(Profile, { ...props,\n              currentUser: ls.get(\"currentUser\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/login\",\n            render: (routerProps, props) => {\n              return /*#__PURE__*/_jsxDEV(LogIn, { ...props,\n                submitHandler: this.loginSubmitHandler,\n                routerProps: routerProps\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 21\n              }, this);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/signup\",\n            render: props => /*#__PURE__*/_jsxDEV(Signup, { ...props,\n              submitHandler: this.signupSubmitHandler\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n\n}\n\nexport default _c = withRouter(App);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/mushfichowdhury/Flatiron/code/Projects/Mod4-PickFlix/pickflix-frontend/src/App.js"],"names":["React","NavBar","PickPage","Welcome","Profile","Route","Redirect","Switch","withRouter","LogIn","Signup","ls","App","Component","state","currentUser","allUsers","isLoggedIn","componentDidMount","setState","get","fetch","then","resp","json","users","props","history","push","signupSubmitHandler","newUser","console","log","method","headers","body","JSON","stringify","r","user","set","loginSubmitHandler","userInfo","foundUser","find","username","logoutHandler","remove","render","routerProps","logOutHandler"],"mappings":"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","sourcesContent":["import './App.css';\nimport React from 'react';\nimport NavBar from './NavBar'\nimport PickPage from './Pick Page/PickPage';\nimport Welcome from './Welcome Page/Welcome';\nimport Profile from './Profile Page/Profile';\nimport {Route, Redirect, Switch, withRouter} from 'react-router-dom'\nimport LogIn from './Welcome Page/LogIn';\nimport Signup from './Welcome Page/Signup';\nimport ls from \"local-storage\"\n\n// THIS IS OUR PRE-PRESENTATION VERSION. I <3 U\n\nclass App extends React.Component {\n  state = {\n    currentUser: \"\",\n    allUsers: [],\n    isLoggedIn: false\n  }\n\n  componentDidMount = () => {\n    this.setState({ currentUser: ls.get(\"currentUser\") || \"\" })\n    fetch(\"https://pick-flix.herokuapp.com/users\")\n      .then(resp => resp.json())\n      .then(users => {\n        this.setState({ allUsers: users })\n      })\n      this.props.history.push(\"/welcome\")\n  }\n  \n  signupSubmitHandler = (newUser) => {\n    console.log(\"new user in app.js\", newUser)\n    fetch(\"https://pick-flix.herokuapp.com/users\", {\n      method: \"POST\",\n      headers: {\n        \"content-type\": \"application/json\",\n        \"accept\": \"application/json\"\n      },\n      body: JSON.stringify(newUser)\n    })\n      .then(r => r.json())\n      .then(user => {\n        this.setState({ currentUser: user,})\n        ls.set(\"currentUser\", user)\n      })\n  }\n\n  loginSubmitHandler = (userInfo) => {\n    let foundUser = this.state.allUsers.find(user => userInfo.username === user.username)\n    console.log(this.state.allUsers)\n    if (foundUser) {\n      console.log(\"found\")\n      this.setState({ currentUser: foundUser, isLoggedIn: true })\n      ls.set(\"currentUser\", foundUser)\n      this.props.history.push(\"/pickpage\")\n    }\n }\n\n logoutHandler = () => {\n   this.setState({currentUser: {}})\n   ls.remove(\"currentUser\")\n }\n\n  render() {\n    console.log(\"Logged in as:\", ls.get(\"currentUser\"))\n    return (\n      \n      <> \n        {ls.get(\"currentUser\") === null ? \n          <div className=\"root\" >\n            <div >\n              <Route\n                path=\"/pickpage\"\n                render={(props) => (\n                  <PickPage {...props} currentUser={ls.get(\"currentUser\")} />\n                )}\n              />\n              <Route path=\"/welcome\" component={Welcome} />\n              <Route path=\"/profile\"\n                render={(props) => (\n                  <Profile {...props} currentUser={ls.get(\"currentUser\")} />\n                )} />\n              <Route path=\"/login\"\n                render={(routerProps, props) => {\n                  return (\n                    <LogIn {...props}\n                      submitHandler={this.loginSubmitHandler}\n                      routerProps={routerProps} />\n                  )\n                }\n\n                }\n              />\n              <Route\n                path=\"/signup\"\n                render={(props) => (\n                  <Signup {...props} submitHandler={this.signupSubmitHandler} />\n                )}\n              />\n            </div>\n          </div>\n\n        :\n        <div className=\"root\" >\n            <div >\n              <NavBar\n                logoutHandler={this.logOutHandler}\n                currentUser={ls.get(\"currentUser\")}\n              />\n              <Route\n                path=\"/pickpage\"\n                render={(props) => (\n                  <PickPage {...props} currentUser={ls.get(\"currentUser\")} />\n                )}\n              />\n              <Route path=\"/welcome\" component={Welcome} />\n              <Route path=\"/profile\"\n                render={(props) => (\n                  <Profile {...props} currentUser={ls.get(\"currentUser\")} />\n                )} />\n              <Route path=\"/login\"\n                render={(routerProps, props) => {\n                  return (\n                    <LogIn {...props}\n                      submitHandler={this.loginSubmitHandler}\n                      routerProps={routerProps} />\n                  )\n                }\n\n                }\n              />\n              <Route\n                path=\"/signup\"\n                render={(props) => (\n                  <Signup {...props} submitHandler={this.signupSubmitHandler} />\n                )}\n              />\n            </div>\n          </div>\n    }\n      </>     \n      \n    );\n    }\n  }\n\nexport default withRouter(App)\n"]},"metadata":{},"sourceType":"module"}